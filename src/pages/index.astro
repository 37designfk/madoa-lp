---
import Layout from '../layouts/Layout.astro';
import Hero from '../components/Hero.astro';
import TrustBar from '../components/TrustBar.astro';
import Problems from '../components/Problems.astro';
import MidCta from '../components/MidCta.astro';
import Service from '../components/Service.astro';
import Reasons from '../components/Reasons.astro';
import Flow from '../components/Flow.astro';
import Cases from '../components/Cases.astro';
import Testimonials from '../components/Testimonials.astro';
import Checklist from '../components/Checklist.astro';
import Faq from '../components/Faq.astro';
import Cta from '../components/Cta.astro';
import Footer from '../components/Footer.astro';
import StickyContact from '../components/StickyContact.astro';
---

<Layout title="窓ガラスの割れ替えなら神戸のMADOA | 安心われかえサービス">
  <Hero />
  <TrustBar />
  <Problems />
  <MidCta />
  <Service />
  <Reasons />
  <Flow />
  <MidCta />
  <Cases />
  <Testimonials />
  <Checklist />
  <Faq />
  <Cta />
  <Footer />
  <StickyContact />
</Layout>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const sections = document.querySelectorAll('section');
    sections.forEach((section) => {
      section.classList.add('scroll-fade-in');
    });

    const observer = new IntersectionObserver(
      (entries) => {
        entries.forEach((entry) => {
          if (entry.isIntersecting) {
            entry.target.classList.add('is-visible');
          }
        });
      },
      {
        threshold: 0.1,
        rootMargin: '0px 0px -50px 0px',
      }
    );

    sections.forEach((section) => {
      observer.observe(section);
    });
  });
</script>
